<!DOCTYPE html>
<html lang="en">
    <head>
        <title>A New Picture of Segregation</title>
        <meta charset="utf-8"/>
        <meta name="viewport" content="initial-scale=1, width=device-width" />
        <!-- jQuery -->

        <!-- PapaParse -->
        <!-- Fonts -->
        <link href='https://fonts.googleapis.com/css?family=Lato:300,400,700' rel='stylesheet' type='text/css'>
        <link href="https://fonts.googleapis.com/css?family=Source+Sans+Pro:300,400,600" rel="stylesheet">
        <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css">
        <link rel="preconnect" href="https://fonts.googleapis.com">
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
        <link href="https://fonts.googleapis.com/css2?family=Barlow+Condensed:wght@100;300;400;500;600&display=swap" rel="stylesheet">
        <link rel="preconnect" href="https://fonts.googleapis.com">
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
        <link href="https://fonts.googleapis.com/css2?family=Lato:ital,wght@0,100;0,300;0,400;0,700;0,900;1,100;1,300;1,400;1,700;1,900&display=swap" rel="stylesheet">


        <!-- Semantic -->
<script src="https://cdn.jsdelivr.net/npm/jquery@3.7.1/dist/jquery.min.js"></script>
<link rel="stylesheet" type="text/css" href="https://cdn.jsdelivr.net/npm/fomantic-ui@2.9.3/dist/semantic.min.css">
<script src="https://cdn.jsdelivr.net/npm/fomantic-ui@2.9.3/dist/semantic.min.js"></script>

        <!-- Dropdown styles included via Fomantic UI above -->

        <!-- Icon -->
        <link href='https://unpkg.com/css.gg@2.1.1/icons/css/menu.css' rel='stylesheet'>

        <!-- D3 -->
        <script src="https://cdnjs.cloudflare.com/ajax/libs/d3/7.8.5/d3.min.js"  crossorigin="anonymous"></script>

        <!-- Custom Stylesheet -->
        <link rel="stylesheet" type="text/css" href="main.css">

        <!-- Maplibre -->
        <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/maplibre-gl@1.15.2/dist/maplibre-gl.min.css">
        <script src="https://cdn.jsdelivr.net/npm/maplibre-gl@1.15.2/dist/maplibre-gl.min.js"></script>
        
        <!-- Mapbox -->
<!--         <link href="https://api.mapbox.com/mapbox-gl-js/v2.15.0/mapbox-gl.css" rel="stylesheet">
        <script src="https://api.mapbox.com/mapbox-gl-js/v2.15.0/mapbox-gl.js"></script> -->

        <!-- Maplibre Search -->
        <script src="https://unpkg.com/@stadiamaps/maplibre-search-box/dist/maplibre-search-box.umd.js"></script>
        <link
          href="https://unpkg.com/@stadiamaps/maplibre-search-box/dist/style.css"
          rel="stylesheet"
        />
        
        <!-- Config (API keys) -->
        <script src="config.js"></script>
        <!-- Jawg search (loaded synchronously via document.write to ensure availability) -->
        <script>
          document.write('<script src="https://api.jawg.io/libraries/jawg-places@latest/jawg-places.js?access-token=' + CONFIG.JAWG_ACCESS_TOKEN + '"><\/script>');
        </script>
        <!-- Protomaps -->
        <script src="https://unpkg.com/pmtiles@2.10.0/dist/index.js"></script>

        <!-- Papaparse -->
        <script src="https://cdnjs.cloudflare.com/ajax/libs/PapaParse/5.4.1/papaparse.min.js" integrity="sha512-dfX5uYVXzyU8+KHqj8bjo7UkOdg18PaOtpa48djpNbZHwExddghZ+ZmzWT06R5v6NSk3ZUfsH6FNEDepLx9hPQ==" crossorigin="anonymous" referrerpolicy="no-referrer"></script>
        <!-- Scripts -->
        <!-- <script src="js/mapmain.js"></script>
        <script src="js/main.js"></script>
        -->    

        <!-- Us Download map -->

        <script src="js/mapdata.js"></script>
        <script src="js/usmap.js"></script>

    </head>
    <body>
      <!-- Menu button -->
             
      <!-- Intro          /
        <div class="ui dimmerwrapper ">
          <div class="ui page dimmer active">
            <div class="content ui  very padded  container  introSegment">
              <h1 class="ui header introHeader">A New Picture of Segregation:
              <br>Experienced Diversity Using Cell Phone Location Data</h1>
              <p class="ui  introHeader"> text text text
              </p>  -->





      <!-- <div class="ui primary button">Add</div>
              <div id='undim'class="ui disabled big basic loading inverted button introButton"><b>Enter</b></div>
            </div>
          </div> 
 --> 


         <div id ='title bar' class="ui vertical borderless small pointing secondary menu menutitle">
           <!-- <div class="search"> -->

            <div id="my-container"class="ui search maplibregl-ctrl">
              <div id = "searchBar" class="ui icon input">
                <input id="my-input" class="prompt" type="text" placeholder="Search Places">
                <i class="i search icon"></i>
              </div>
              <!-- <div class="results"></div> -->
              <div id="my-result-container" class="results jawg-places-results"></div>
            </div>

              <!-- <div id="my-container" class="ui fluid search mapboxgl-ctrl maplibregl-ctrl">
                 <div id = "searchBar" class="ui fluid search">
                    <input id="my-input" type="text" placeholder="Search Places">
                    <input type="text"  id="searchTerm" placeholder="What are you looking for?">
                    <button type="submit" class="searchButton">
                    <i class="fa fa-search"></i>
                    </button>
                  </div>
                    <div id="my-result-container" class="ui jawg-places-results"></div>
              </div> -->
              <!-- </div> -->

          
              <!-- <div class="right menu rightmenu">>-->
                  <!--<a class="item" id="aboutText">About</a>-->
                  <i class="inverted big link info circle icon" id="aboutText"></i>
                  <i class="inverted big sliders horizontal link icon" id="toggleButton"></i>

                  <!--<a class="item" href="download.html">Download</a>-->
                  <a href="download.html">
                  <i class="inverted big link download icon"></i>



              <!--</div>-->

              <div class="ui container">
            <div id="icons">
                <a href="https://www.urbandataresearchlab.org/"><img src="jpg/urbanDRL_logo.svg" alt="urbanDRL_logo" width="150" height="75" >
                </a>
                <a href="https://aap.cornell.edu/"><img src="jpg/AAP.svg" alt="AAP_logo" width="150" height="75" >
                </a>
             </div> 
          </div> 
              </div>

                  <!-- <div id ='menu-buttons' class="my-button">
                            <a href="#">About</a>
                            <a href="download.html">Download</a>
                            <a href="https://www.urbandataresearchlab.org/">Urban Data Research Lab</a>
          </div> -->
              

          <div id="map"></div>  

          
          <div id ='info'>
            <!--<button class="openbtn" onclick="toggleNav()"><i class="gg-menu"></i></button>  -->
             <!--  <div id="mySidepanel" class="sidepanel">

                <a href="#">About</a>
                <a href="download.html">Download</a>
                <a href="#">Contact</a>
              </div> -->
            <!-- Search Bar -->

             <h2>A New Picture of Segregation</h2>
            <h5>City
            
            </h5>

            <div id = "cityDropdown1" class="ui fluid search selection dropdown">
              <input type="hidden" value="city">
              <i class="dropdown icon"></i>
              <div class="text">Select a city</div>
              <div id='cityDropdown' class="menu"></div>
            </div> 
           
            <!-- Toggle Metrics -->
            <h5 >Metric
              <i class="small grey circle info icon link" data-content="test test" data-variation="mini"></i>
            </h5>

            <div id = "censusDropdown1" class="ui fluid search selection dropdown">
              <input type="hidden" value="total_diversity_exp">
              <i class="dropdown icon"></i>
              <div class="text" >Total Experienced Diversity </div>
              <div id='censusDropdown' class="menu"></div>
            </div> 
            <br>

            <!-- Legend -->
                         
              <div class="item compact disabled legendIcon" data-value="legend">
                <div class='left aligned content censusLegend'>
                  <h5 class="header smallHeader ">
                  Legend
                  </h5>
                  <div class="legendBar"></div>
                </div>
               
               
              </div>
            <div class="ui divider"></div>


  <!--<input type="text" id="cityNameInput" placeholder="Enter City Name" />
<button id="searchButton">Search</button>-->
            
            <!-- histogram -->
            <h5 >Metric Distribution
              <i class="grey small circle info icon link" data-title="Elliot Fu" data-content="test test" data-variation="mini"></i>
            </h5>
            <div id="my_histogram"></div>  


            <h5 >Census Characteristics
             <i class="grey small circle info icon link" data-content="test test" data-variation="mini"></i>

           </h5>

            <div class='ui accordion'>
               <div class="title ">
                <div class="ui grid">
                  <div class="row">
                    <div class="left floated twelve wide column">
                    <i class="dropdown icon"></i>
                      Total Population
                    </div>
                    <div class='left floated four wide right aligned column'>
                    <div id="totolPopValue"  class="factors">...</div>
                    </div>
                 </div>
               </div>
               </div>
              <div class="content">
              <div id = 'Boxplot_totalPop'></div>
              </div>
            </div>

            <div class='ui accordion'>
               <div class="title ">
                <div class="ui grid">
                  <div class="row">
                    <div class="left floated twelve wide column">
                    <i class="dropdown icon"></i>
                      Percentage White Population
                    </div>
                    <div class='left floated four wide right aligned column'>
                      <div id="WHPopValue"  class="factors">...</div>
                    </div>
                 </div>
               </div>
               </div>
              <div class="content">
                <div id="Boxplot_White"></div>
              </div>
            </div>

            <div class='ui accordion'>
               <div class="title ">
                <div class="ui grid">
                  <div class="row">
                    <div class="left floated twelve wide column">
                    <i class="dropdown icon"></i>
                      Percentage Black Population
                    </div>
                    <div class='left floated four wide right aligned column'>
                      <div id="BLPopValue"  class="factors">...</div>
                    </div>
                 </div>
               </div>
               </div>
              <div class="content">
                <div id="Boxplot_Black"></div>
              </div>
            </div>


            <div class='ui accordion'>
               <div class="title ">
                <div class="ui grid">
                  <div class="row">
                    <div class="left floated twelve wide column">
                    <i class="dropdown icon"></i>
                      Percentage Asian Population
                    </div>
                    <div class='left floated four wide right aligned column'>
                      <div id="ASPopValue"  class="factors">...</div>
                    </div>
                 </div>
               </div>
               </div>
              <div class="content">
                <div id="Boxplot_Asian"></div>
              </div>
            </div>
            
            <div class='ui accordion'>
               <div class="title ">
                <div class="ui grid">
                  <div class="row">
                    <div class="left floated twelve wide column">
                    <i class="dropdown icon"></i>
                      Percentage Hispanic Population
                    </div>
                    <div class='left floated four wide right aligned column'>
                      <div id="HIPopValue"  class="factors">...</div>
                    </div>
                 </div>
               </div>
               </div>
              <div class="content">
                <div id="Boxplot_Hisp"></div>
              </div>
            </div>

            <div class='ui accordion'>
               <div class="title ">
                <div class="ui grid">
                  <div class="row">
                    <div class="left floated twelve wide column">
                    <i class="dropdown icon"></i>
                      Percentage Other Population
                    </div>
                    <div class='left floated four wide right aligned column'>
                      <div id="OTPopValue"  class="factors">...</div>
                    </div>
                 </div>
               </div>
               </div>
              <div class="content">
                <div id="Boxplot_Other"></div>
              </div>
            </div>

            <div class='ui accordion'>
               <div class="title ">
                <div class="ui grid">
                  <div class="row">
                    <div class="left floated twelve wide column">
                    <i class="dropdown icon"></i>
                      Higher Education
                    </div>
                    <div class='left floated four wide right aligned column'>
                      <div id="baPercValueDisplay"  class="factors">...</div>
                    </div>
                 </div>
               </div>
               </div>
              <div class="content">
                <div id="Boxplot_2"></div>
              </div>
            </div>

            <div class='ui accordion'>
               <div class="title ">
                <div class="ui grid">
                  <div class="row">
                    <div class="left floated twelve wide column">
                    <i class="dropdown icon"></i>
                      Median Income
                    </div>
                    <div class='left floated four wide right aligned column'>
                      <div id="medianIncValue"  class="factors">...</div>
                    </div>
                 </div>
               </div>
               </div>
              <div class="content">
                <div id="Boxplot_3"></div>
              </div>
            </div>

            
          </div>  
                     <!--<div id='logoContainer'>
             
                  <a href="https://www.urbandataresearchlab.org/" class="logo-link">
                      <img src="jpg/urbanDRL_logo.svg" alt="urbanDRL_logo" class="logo">
                  </a>
              
                
                  <a href="https://aap.cornell.edu/" class="logo-link">
                      <img src="jpg/AAP.svg" alt="AAP_logo" class="logo">
                  </a>
                
          </div>   -->

<div id="functions" class="hidden">
    <div class="first-row">
        <div id="weekDayEndButton" class="ui fluid tiny icon buttons">
          <button id="weekdayButton" class="ui basic button active">Weekday</button>
          <button id="weekendButton" class="ui basic button">Weekend</button>
        </div>
<!--         <button class="ui tiny toggle button weekday" id="tgl" onclick="toggleWeekend(), updateWeekdayWeekend()">Weekday</button> -->
        <div id="intervalButton" class=" ui fluid tiny icon buttons">
            <button id="morningButton" class="ui basic button">Morning</button>
            <button id="afternoonButton" class="ui basic button active">Afternoon</button>
            <button id="eveningButton" class="ui basic button">Evening</button>
            <button id="lateEveningButton" class="ui basic button">Late evening</button>
            <button id="lateNightButton" class="ui basic button">Late night</button>
        </div>
    </div>
    <div class="second-row">
        <div id="styleButton" class=" ui fluid tiny icon buttons">
          <button id="mapStyle2" class="tiny ui basic button active">Basic</button>
        <button id="mapStyle1" class="ui tiny basic button">Satellite</button>
        
        </div>
<!--          <div id="intervalButton" class=" ui fluid tiny icon buttons">
        <button class="ui tiny button" id="reset">Reset</button>
        </div> -->
        <div class="ui slider" id="slider-1"></div>
        
    </div>
</div>
          </div> 

          
      <div class="ui message floating transition hidden infoSegment" id='infoMessage'>
        <i class="large close red icon"></i>


              </div>
              

        </div>




          <div class="overlay" id="overlay"></div>
          <div class="popupIntro">
               
               <h2>A New Picture of Segregation</h2>
               <p>
                   Lorem, ipsum dolor sit amet consectetur adipisicing elit. Expedita distinctio fugiat alias iure qui, commodi minima magni ullam aliquam dignissimos?
               </p>
               <img src="jpg/us map.png" alt="Description of the image">
               <button id="close">Explore the Map</button>
          

    </body>
    <footer>
        <script src="js/mapmain.js"></script>
        <!-- <script src="js/charts.js"></script> -->
        <!-- <script src="js/main.js"></script> -->
    </footer>

    
</html>

